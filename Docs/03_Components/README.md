# üîß Components - –ú–æ–¥—É–ª—ñ —Ç–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

–¶–µ–π —Ä–æ–∑–¥—ñ–ª –º—ñ—Å—Ç–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é –ø–æ –≤—Å—ñ—Ö –º–æ–¥—É–ª—è—Ö —Ç–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö —Å–∏—Å—Ç–µ–º–∏ ModESP.

## üìÅ –ü—ñ–¥—Ä–æ–∑–¥—ñ–ª–∏

### [core/](core/README.md) - –û—Å–Ω–æ–≤–Ω—ñ —Å–∏—Å—Ç–µ–º–Ω—ñ –º–æ–¥—É–ª—ñ
–Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º–∏: SharedState, EventBus, Configuration, Application lifecycle

**–ö–ª—é—á–æ–≤—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏:**
- **Core System** - Application Controller, EventBus, SharedState API
- **ConfigManager** - üÜï Modular configuration –∑ lifecycle management
- **Lifecycle Architecture** - üÜï BOOT‚ÜíRUNTIME‚ÜíSHUTDOWN —Ñ–∞–∑–∏
- **Async Optimization** - üÜï LittleFS —Ç–∞ watchdog-friendly –æ–ø–µ—Ä–∞—Ü—ñ—ó

### [sensors/](sensors/README.md) - –ú–æ–¥—É–ª—ñ –¥–∞—Ç—á–∏–∫—ñ–≤  
–°–∏—Å—Ç–µ–º–∏ –∑–±–æ—Ä—É –¥–∞–Ω–∏—Ö: DS18B20, NTC, Pressure, GPIO inputs

### [actuators/](actuators/README.md) - –ú–æ–¥—É–ª—ñ –∞–∫—Ç—É–∞—Ç–æ—Ä—ñ–≤
–°–∏—Å—Ç–µ–º–∏ –∫–µ—Ä—É–≤–∞–Ω–Ω—è: Relay, PWM, GPIO outputs, Stepper motors

### [rtc/](rtc/README.md) - Real Time Clock –º–æ–¥—É–ª—å
–°–∏—Å—Ç–µ–º–∞ —á–∞—Å—É —Ç–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—è –∑ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—î—é

### [logger/](logger/README.md) - –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è
–§–∞–π–ª–æ–≤–∞ —Å–∏—Å—Ç–µ–º–∞, —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è, HACCP —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å

## üéØ –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—ñ–≤

### –ó–∞–≥–∞–ª—å–Ω—ñ –ø—Ä–∏–Ω—Ü–∏–ø–∏
- **–ú–æ–¥—É–ª—å–Ω—ñ—Å—Ç—å**: –ö–æ–∂–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç - —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–Ω—ñ–π –º–æ–¥—É–ª—å
- **–Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏**: –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–æ–≤–∞–Ω—ñ API –¥–ª—è –≤—Å—ñ—Ö —Ç–∏–ø—ñ–≤ –º–æ–¥—É–ª—ñ–≤
- **–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è**: JSON-based –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–µ–∑ –ø–µ—Ä–µ–∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó
- **–ê–≤—Ç–æ—Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è**: –î—Ä–∞–π–≤–µ—Ä–∏ —Ä–µ—î—Å—Ç—Ä—É—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ

### –Ü—î—Ä–∞—Ä—Ö—ñ—è –º–æ–¥—É–ª—ñ–≤
```
Application (Main Loop)
    ‚Üì
ModuleManager
    ‚Üì
Core Modules (SharedState, EventBus, Config)
    ‚Üì
Hardware Modules (SensorModule, ActuatorModule)
    ‚Üì
Drivers (DS18B20, Relay, PWM, etc.)
    ‚Üì
HAL (Hardware Abstraction Layer)
```

## üîó –í–∑–∞—î–º–æ–¥—ñ—è –º—ñ–∂ –º–æ–¥—É–ª—è–º–∏

### –ß–µ—Ä–µ–∑ SharedState (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
```cpp
// –î–∞—Ç—á–∏–∫ –ø—É–±–ª—ñ–∫—É—î –¥–∞–Ω—ñ
SharedState::set("sensor.chamber.temperature", 22.5f);

// –ê–∫—Ç—É–∞—Ç–æ—Ä —á–∏—Ç–∞—î –¥–∞–Ω—ñ –¥–ª—è –ø—Ä–∏–π–Ω—è—Ç—Ç—è —Ä—ñ—à–µ–Ω—å
auto temp = SharedState::get<float>("sensor.chamber.temperature");
```

### –ß–µ—Ä–µ–∑ EventBus (–¥–ª—è –ø–æ–¥—ñ–π)
```cpp
// –ü—É–±–ª—ñ–∫–∞—Ü—ñ—è –ø–æ–¥—ñ—ó
EventBus::publish("alarm.temperature.high", {{"value", 35.0}});

// –ü—ñ–¥–ø–∏—Å–∫–∞ –Ω–∞ –ø–æ–¥—ñ—é
EventBus::subscribe("alarm.*", [](const Event& e) {
    handle_alarm(e);
});
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è—Ö

### –ó–∞ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—é
- **–ü–æ—á–∞—Ç–∫—ñ–≤—Ü—ñ**: [core/shared_state.md](core/shared_state.md) - –æ—Å–Ω–æ–≤–∏ –æ–±–º—ñ–Ω—É –¥–∞–Ω–∏–º–∏
- **–°–µ—Ä–µ–¥–Ω—ñ–π —Ä—ñ–≤–µ–Ω—å**: [sensors/sensor_module.txt](sensors/sensor_module.txt) - —Ä–æ–±–æ—Ç–∞ –∑ –¥–∞—Ç—á–∏–∫–∞–º–∏
- **–ü—Ä–æ—Å—É–Ω—É—Ç—ñ**: [core/core_system.md](core/core_system.md) - –ø–æ–≤–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ Core

### –ó–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—é
- **–ó–±—ñ—Ä –¥–∞–Ω–∏—Ö**: [sensors/](sensors/README.md) - –≤—Å—ñ —Ç–∏–ø–∏ –¥–∞—Ç—á–∏–∫—ñ–≤
- **–ö–µ—Ä—É–≤–∞–Ω–Ω—è**: [actuators/](actuators/README.md) - —Ä–µ–ª–µ, PWM, –º–æ—Ç–æ—Ä—ã
- **–ß–∞—Å —Ç–∞ –ø–æ–¥—ñ—ó**: [rtc/](rtc/README.md) - –∫–∞–ª–µ–Ω–¥–∞—Ä —Ç–∞ —Ä–æ–∑–∫–ª–∞–¥
- **–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥**: [logger/](logger/README.md) - –ª–æ–≥—É–≤–∞–Ω–Ω—è —Ç–∞ –º–µ—Ç—Ä–∏–∫–∏

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –¥–∞—Ç—á–∏–∫–∞
1. –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ [sensors/sensor_module.txt](sensors/sensor_module.txt)
2. –†–µ–∞–ª—ñ–∑—É–π—Ç–µ `ISensorDriver` —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
3. –î–æ–¥–∞–π—Ç–µ –∞–≤—Ç–æ—Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—é –¥—Ä–∞–π–≤–µ—Ä–∞
4. –ö–æ–Ω—Ñ—ñ–≥—É—Ä—É–π—Ç–µ –≤ `sensors.json`

### –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –∞–∫—Ç—É–∞—Ç–æ—Ä–∞
1. –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ [actuators/actuator_module.txt](actuators/actuator_module.txt)
2. –†–µ–∞–ª—ñ–∑—É–π—Ç–µ `IActuatorDriver` —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å  
3. –î–æ–¥–∞–π—Ç–µ –∞–≤—Ç–æ—Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—é –¥—Ä–∞–π–≤–µ—Ä–∞
4. –ö–æ–Ω—Ñ—ñ–≥—É—Ä—É–π—Ç–µ –≤ `actuators.json`

---

*–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –æ–Ω–æ–≤–ª–µ–Ω–∞: 2025-06-29*
