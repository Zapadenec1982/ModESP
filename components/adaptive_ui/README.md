# Adaptive UI Component

–Ñ–¥–∏–Ω–∞ UI —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è ModESP –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–≥–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É, —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ —Ç–∞ lazy loading.

## üåü –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

- **–ê–¥–∞–ø—Ç–∏–≤–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è UI** - —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–º—ñ–Ω—é—î—Ç—å—Å—è –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó —Ç–∞ —Ä–æ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- **Lazy Loading** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ø—Ä–∏ –ø–æ—Ç—Ä–µ–±—ñ (–µ–∫–æ–Ω–æ–º—ñ—è RAM)
- **–ú—É–ª—å—Ç–∏–ø—Ä–æ—Ç–æ–∫–æ–ª—å–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞** - Web, LCD, MQTT, Telegram
- **–§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∑–∞ —É–º–æ–≤–∞–º–∏** - –ø–æ–∫–∞–∑ —Ç—ñ–ª—å–∫–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤
- **Compile-time –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è** - UI –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è –ø—ñ–¥ —á–∞—Å –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
adaptive_ui/
‚îú‚îÄ‚îÄ include/              # –û—Å–Ω–æ–≤–Ω—ñ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏ —Ç–∞ –∫–ª–∞—Å–∏
‚îÇ   ‚îú‚îÄ‚îÄ ui_filter.h      # –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤
‚îÇ   ‚îú‚îÄ‚îÄ lazy_component_loader.h  # –í—ñ–¥–∫–ª–∞–¥–µ–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
‚îÇ   ‚îî‚îÄ‚îÄ ui_component_base.h      # –ë–∞–∑–æ–≤—ñ –∫–ª–∞—Å–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤
‚îú‚îÄ‚îÄ adapters/            # –ê–¥–∞–ø—Ç–µ—Ä–∏ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª—ñ–≤
‚îÇ   ‚îú‚îÄ‚îÄ web/            # HTTP/WebSocket —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îú‚îÄ‚îÄ lcd_ui/         # LCD –¥–∏—Å–ø–ª–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ mqtt_ui/        # MQTT –ø—Ä–æ—Ç–æ–∫–æ–ª
‚îú‚îÄ‚îÄ examples/           # –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
‚îî‚îÄ‚îÄ renderers/          # –†–µ–Ω–¥–µ—Ä–µ—Ä–∏ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Ñ–æ—Ä–º–∞—Ç—ñ–≤
```

## üöÄ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### Web UI

```cpp
#include "web_ui_adapter.h"
#include "ui_filter.h"
#include "lazy_component_loader.h"

void setup_web_ui() {
    // –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ñ—ñ–ª—å—Ç—Ä–∞
    UIFilter filter;
    filter.init(config, UserRole::TECHNICIAN);
    
    // –û—Ç—Ä–∏–º–∞–Ω–Ω—è loader
    auto& loader = LazyLoaderManager::getInstance();
    
    // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–µ–±-–∞–¥–∞–ø—Ç–µ—Ä–∞
    auto web = std::make_unique<WebUIAdapter>(&filter, &loader);
    web->start(80);
}
```

### –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤

```cpp
// –ü—Ä–∏–∫–ª–∞–¥–∏ —É–º–æ–≤ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó:
"always"                          // –ó–∞–≤–∂–¥–∏ –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏
"config.sensor.type == 'DS18B20'" // –¢—ñ–ª—å–∫–∏ –¥–ª—è DS18B20
"role >= 'technician'"            // –î–ª—è —Ç–µ—Ö–Ω—ñ–∫—ñ–≤ —ñ –≤–∏—â–µ
"has_feature('calibration')"      // –Ø–∫—â–æ —î —Ñ—É–Ω–∫—Ü—ñ—è –∫–∞–ª—ñ–±—Ä—É–≤–∞–Ω–Ω—è
```

## üîß –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### CMakeLists.txt

```cmake
REQUIRES 
    adaptive_ui  # –î–æ–¥–∞—Ç–∏ –¥–æ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
```

### –†–æ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

- `USER` - –±–∞–∑–æ–≤–∏–π –¥–æ—Å—Ç—É–ø
- `OPERATOR` - –æ–ø–µ—Ä–∞—Ç–æ—Ä –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è
- `TECHNICIAN` - —Ç–µ—Ö–Ω—ñ—á–Ω–µ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è
- `SUPERVISOR` - –∫–µ—Ä—ñ–≤–Ω–∏–∫
- `ADMIN` - –ø–æ–≤–Ω–∏–π –¥–æ—Å—Ç—É–ø

## üìä –ü–µ—Ä–µ–≤–∞–≥–∏

- **–ï–∫–æ–Ω–æ–º—ñ—è RAM**: –¥–æ 40% —á–µ—Ä–µ–∑ lazy loading
- **–ì–Ω—É—á–∫—ñ—Å—Ç—å**: –ª–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ –ø—Ä–æ—Ç–æ–∫–æ–ª–∏
- **–ë–µ–∑–ø–µ–∫–∞**: –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø—É –Ω–∞ —Ä—ñ–≤–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤
- **–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å**: compile-time –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è

## üéØ Roadmap

- [ ] WebSocket –¥–ª—è real-time –æ–Ω–æ–≤–ª–µ–Ω—å
- [ ] –ü–æ–≤–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è LCD –∞–¥–∞–ø—Ç–µ—Ä–∞
- [ ] MQTT discovery
- [ ] Telegram bot —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è
- [ ] Mobile app API
