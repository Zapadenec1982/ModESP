# ConfigManager: –ü—ñ–¥—Å—É–º–æ–∫ –∑–º—ñ–Ω

## üéØ –ì–æ–ª–æ–≤–Ω–∞ —ñ–¥–µ—è

**–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ –ú–£–°–ò–¢–¨ –±—É—Ç–∏ –°–ò–ù–•–†–û–ù–ù–ò–ú!**

–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø—ñ–¥ —á–∞—Å —Ä–æ–±–æ—Ç–∏ —Å–∏—Å—Ç–µ–º–∏.

## üìù –©–æ –∑–º—ñ–Ω–µ–Ω–æ:

### 1. –ß—ñ—Ç–∫–∏–π –ø–æ–¥—ñ–ª —Ñ–∞–∑:
- **BOOT**: –í—Å–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–µ (load –±–ª–æ–∫—É—î)
- **RUNTIME**: Async save –¥–æ–∑–≤–æ–ª–µ–Ω–æ  
- **SHUTDOWN**: –ó–Ω–æ–≤—É —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–µ (–≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è)

### 2. –ù–æ–≤—ñ API —Ñ—É–Ω–∫—Ü—ñ—ó:
```cpp
// –í–∫–ª—é—á–∏—Ç–∏ async –ü–Ü–°–õ–Ø —Å—Ç–∞—Ä—Ç—É –º–æ–¥—É–ª—ñ–≤
ConfigManager::enable_async_save();

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø—Ä–∏ –∑–º—ñ–Ω–∞—Ö
ConfigManager::enable_auto_save(true);

// –ü—Ä–∏–º—É—Å–æ–≤–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è
ConfigManager::force_save_sync();

// –°—Ç–∞—Ç—É—Å –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è
auto status = ConfigManager::get_save_status();
```

### 3. –ü—Ä–∞–≤–∏–ª—å–Ω–∞ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å:
```cpp
// –°—Ç–∞—Ä—Ç
ConfigManager::init();
ConfigManager::load();              // –ë–õ–û–ö–£–Ñ - —Ü–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ!
ModuleManager::configure_all(...);  // –ú–æ–¥—É–ª—ñ –º–∞—é—Ç—å config
ConfigManager::enable_async_save(); // –¢—ñ–ª—å–∫–∏ –ø—ñ—Å–ª—è —Å—Ç–∞—Ä—Ç—É

// Runtime  
ConfigManager::set(...);  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ async save

// Shutdown
ConfigManager::force_save_sync();  // –ë–õ–û–ö–£–Ñ - –≥–∞—Ä–∞–Ω—Ç—ñ—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è
```

## ‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏:

1. –ú–æ–¥—É–ª—ñ –ì–ê–†–ê–ù–¢–û–í–ê–ù–û –æ—Ç—Ä–∏–º—É—é—Ç—å –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ
2. –ù–µ–º–∞—î watchdog timeout –ø—ñ–¥ —á–∞—Å —Ä–æ–±–æ—Ç–∏
3. –ù–∞–¥—ñ–π–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø—Ä–∏ shutdown
4. –ü—Ä–æ—Å—Ç–∞ —ñ –∑—Ä–æ–∑—É–º—ñ–ª–∞ –ª–æ–≥—ñ–∫–∞

## üìÅ –§–∞–π–ª–∏:

- `config_manager_lifecycle.cpp` - –æ–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥—ñ–∫–∞
- `CONFIG_LIFECYCLE_FINAL.md` - –¥–µ—Ç–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
- `test_config_lifecycle.cpp` - —Ç–µ—Å—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫—É
- `application_config_usage.cpp` - –ø—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

–î—è–∫—É—é –∑–∞ –≤–∞–∂–ª–∏–≤–µ –ø–∏—Ç–∞–Ω–Ω—è! –¶–µ –∫—Ä–∏—Ç–∏—á–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∞ –ø—Ä–∞–≤–∫–∞.
